// Generated by text/template; DO NOT EDIT
package database

import (
	"subLease/src/server/domain"
)

type {{ .Entity }}Update struct {
{{- range $key, $value := .Fields }}
    {{ $key }} *{{ $value -}}
{{ end }}
}

func ({{ .Abbreviation }} *{{ .Entity }}Update) Update{{ .Entity }}WithValuesFrom(e *domain.{{ .Entity }}, database Database) {
{{- range $key, $value := .Fields }}
    if {{ $.Abbreviation }}.{{ $key }} != nil {
    {{- if $key | IsDomainEntity }}
		if {{ $key | Decapitalize }}, found := database.Get{{ $key | Capitalize }}(*{{ $.Abbreviation }}.{{ $key | Capitalize }}); found {
			e.{{ $key | Capitalize }} = {{ $key | Decapitalize }}
		}
    {{- else }}
		e.{{ $key }} = *{{ $.Abbreviation }}.{{ $key }}
    {{- end }}
    }
{{- end }}
}

